<p id="notice"><%= notice %></p>

<div class="row panel panel-default">
<table id="processors-table" class="table table-striped table-bordered table-hover dataTable no-footer" role="grid">
  <thead>
    <tr>
      <th>触发</th>
      <th>处理类</th>
      <th>处理方法</th>
      <th>返回类型</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @message_processors.each do |message_processor| %>
      <tr>
        <td><%= message_processor.event_key %></td>
        <td><%= message_processor.process_class_name %></td>
        <td><%= message_processor.process_method %></td>
        <td><%= message_processor.result_type %></td>
        <td>
          <%= link_to 'Show', 
                                admin_message_processor_path(message_processor), 
                                :class => "btn btn-xs btn-info" %>
          <%= link_to 'Edit', 
                                edit_admin_message_processor_path(message_processor),
                                :class => "btn btn-xs btn-primary" %>
          <%= link_to 'Destroy',
                                admin_message_processor_path(message_processor), 
                                method: :delete, 
                                data: { confirm: 'Are you sure?' },
                                :class => 'btn btn-xs btn-danger' 
          %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= link_to '添加处理器', new_admin_message_processor_path %>
</div>
<% content_for :scripts do %>
  <script type="text/javascript">
    $('#processors-table').dataTable({
      bAutoWidth: false
    });
  </script>
<% end %>