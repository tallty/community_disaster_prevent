<script type="text/javascript" src=http://api.map.baidu.com/api?v=2.0&ak=8SWaIs2cE83Ssvv90yXPUEQQhnkG368u></script>
<script>
  var geolocation = new BMap.Geolocation();

  geolocation.getCurrentPosition(function(position){
    if(this.getStatus() == BMAP_STATUS_SUCCESS){
      location.href = "new?lon="+position.point.lng+"&lat="+position.point.lat;
    }
    else {
      alert('failed'+this.getStatus());
    }        
  },{enableHighAccuracy: true})
</script>
